<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>

<script>
    // إعدادات المؤسسة (يتم الحصول عليها من وحدة تحكم Firebase)
    const firebaseConfig = {
        apiKey: "YOUR_API_KEY",
        authDomain: "yemen-stock.firebaseapp.com",
        projectId: "yemen-stock",
        storageBucket: "yemen-stock.appspot.com",
        messagingSenderId: "YOUR_ID",
        appId: "YOUR_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // دالة تسجيل "هامور" جديد في قاعدة البيانات الحقيقية
    async function registerUser(name, phone) {
        try {
            await db.collection("users").doc(phone).set({
                fullName: name,
                phone: phone,
                oldBalance: 1500, // رصيد البداية
                newBalance: 15000,
                rank: "صراف ناشئ",
                createdAt: new Date()
            });
            console.log("تم تسجيل الهامور بنجاح في السحابة ✅");
        } catch (error) {
            console.error("خطأ في الاتصال بالسحابة: ", error);
        }
    }
</script>
